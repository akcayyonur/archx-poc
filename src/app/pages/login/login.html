<img src="/images/snake.png" alt="Snake background" class="background-image" />
<div class="page-container">
  <div class="frame-container">
    <div class="glass-container">
      <header class="header-buttons">
        <button class="back-button" type="button" (click)="goToLanding()" [disabled]="isLoading">
          <fa-icon [icon]="faChevronLeft"></fa-icon>
        </button>
        <div class="language-selector">
          <button 
            type="button"
            class="language-button"
            (click)="toggleDropdown()"
            [disabled]="isLoading"
            [attr.aria-expanded]="isDropdownOpen">
            <span>{{ getSelectedLanguage().flag }} {{ getSelectedLanguage().label }}</span>
            <fa-icon [icon]="faChevronDown" [class.rotated]="isDropdownOpen"></fa-icon>
          </button>
          <div class="language-menu" *ngIf="isDropdownOpen">
            <button
              *ngFor="let language of languages"
              type="button"
              class="language-option"
              [class.active]="selectedLanguage === language.code"
              (click)="onLanguageChange(language.code)">
              {{ language.flag }} {{ language.label }}
            </button>
          </div>
        </div>
      </header>
      <div class="bottom-container">
        <div class="left-container">
          <h2 class="signin-title">{{ t('login.title') }}</h2>
          
          <!-- Sign In Form -->
          <form (ngSubmit)="onLogin()" class="form-section" [class.disabled]="isLoading">
            <div class="input-group">
              <input type="text" [(ngModel)]="email" name="email" [placeholder]="t('login.username')" required
                class="input-field" [disabled]="isLoading" />
              <input type="password" [(ngModel)]="password" name="password" [placeholder]="t('login.password')" required
                class="input-field" [disabled]="isLoading" />
            </div>
            <div class="error-message" *ngIf="errorMessage">
              {{ errorMessage }}
            </div>
            <div class="forgot-password-link">{{ t('login.forgotPassword') }}</div>
            <div class="submit-section">
              <button type="submit" class="login-button" [disabled]="isLoading">
                <span class="button-text" *ngIf="!isLoading">{{ t('login.loginButton') }}</span>
                <span class="button-text" *ngIf="isLoading">{{ t('login.loggingIn') }}</span>
              </button>
            </div>
          </form>

          <div class="account-section">
            <div class="account-text">{{ t('login.noAccount') }}</div>
            <div class="signin-link" (click)="navigateToSignUp()">{{ t('login.signUp') }}</div>
          </div>
        </div>
        <mat-divider [vertical]="true"
          style="height:356px; align-self:start; border-radius:2px; background:rgba(255,255,255,0.15);"></mat-divider>
        <div class="right-container">
          <div class="welcome-container">
            <div class="welcome-text">{{ t('login.welcome') }}</div>
            <img src="/images/archx_logo.png" alt="Archx Logo" class="logo-image" />
          </div>
          <div class="subtitle">{{ t('login.subtitle') }}</div>
        </div>
      </div>
    </div>
  </div>
</div>